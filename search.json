[{"path":"http://jakubnowosad.com/motifmw/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 Jakub Nowosad Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://jakubnowosad.com/motifmw/articles/Introduction.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Comparing spatial patterns using moving window approach","text":"reproduce code vignette, need install just three packages: motifmw, spquery, terra. first two packages can installed GitHub using remotes package, terra package can installed CRAN.","code":"remotes::install_github(\"nowosad/motifmw\") remotes::install_github(\"nowosad/spquery\")"},{"path":"http://jakubnowosad.com/motifmw/articles/Introduction.html","id":"packages-and-data","dir":"Articles","previous_headings":"","what":"Packages and data","title":"Comparing spatial patterns using moving window approach","text":"motifmw approach suitable categorical raster datasets. , use two ESA land cover raster datasets: one 1992 2018. datasets color tables available Open Science Framework (OSF) repository.  examples , crop original data smaller area 1000 1000 cells.  area mostly covered forest (green color) 1992, 2018, mostly covered agriculture (yellow).","code":"library(motifmw) library(spquery) library(terra) lc92 = rast(\"https://osf.io/download/tjzwe/\") lc18 = rast(\"https://osf.io/download/wdzy6/\") coltb = read.csv(\"https://osf.io/download/2qd5k/\")[c(\"value\", \"color\")] coltab(lc92) = coltb coltab(lc18) = coltb plot(c(lc92, lc18)) lc92 = crop(lc92, ext(-7e6, -67e5, -13e5, -1e6)) lc18 = crop(lc18, ext(-7e6, -67e5, -13e5, -1e6)) plot(c(lc92, lc18))"},{"path":"http://jakubnowosad.com/motifmw/articles/Introduction.html","id":"local-spatial-pattern-signature","dir":"Articles","previous_headings":"","what":"Local spatial pattern signature","title":"Comparing spatial patterns using moving window approach","text":"main function motifmw package lsp_signature_mw(), calculates local spatial pattern signature (called co-occurrence vector, cove, learn https://jakubnowosad.com/comat/articles/coma.html) raster dataset using moving window approach. function requires two arguments: x – raster dataset, window – matrix defines shape size moving window.","code":""},{"path":"http://jakubnowosad.com/motifmw/articles/Introduction.html","id":"square-window","dir":"Articles","previous_headings":"","what":"Square window","title":"Comparing spatial patterns using moving window approach","text":"Let’s start example using square window size 11 11 cells, can defined matrix() function. means spatial signature cell calculated based 11 11 cells around (5 cells direction).  Next, calculate local spatial pattern signature land cover raster datasets using lsp_signature_mw() function. operation may take minute need calculate spatial signature 21 21 cells window 1,000,000 cells raster dataset.1 output lsp_signature_mw() function case raster dataset 28 layers, layer represents different part spatial signature. Finally, can compare spatial patterns two land cover raster datasets using spq_compare() function spquery package. function calculates Jensen-Shannon divergence two spatial signatures, measure similarity two probability distributions. lower value, similar spatial patterns two raster datasets.2","code":"window_size = 21 window = matrix(1, nrow = window_size, ncol = window_size) plot(rast(window)) lc92s = motifmw::lsp_signature_mw(x = lc92, window = window) lc18s = motifmw::lsp_signature_mw(x = lc18, window = window) lc_compare = spq_compare(lc92s, lc18s, dist_fun = \"jensen-shannon\") plot(lc_compare)"},{"path":"http://jakubnowosad.com/motifmw/articles/Introduction.html","id":"circle-window","dir":"Articles","previous_headings":"","what":"Circle window","title":"Comparing spatial patterns using moving window approach","text":"Although square window common choice, best option cases: uses values corners window, away center cell. alternative use circular window, can created using focalMat() function terra package. , create circular window radius 10 cells.  next steps : calculate local spatial pattern signature land cover raster datasets using lsp_signature_mw() function compare spatial patterns two land cover raster datasets using spq_compare() function  resulting map similar one obtained using square window, differences can observed. can see better plotting difference two maps.","code":"window2 = focalMat(rast(window), d = 10, type = \"circle\", fillNA = TRUE) window2[window2 > 0] = 1 plot(rast(window2)) lc92s2 = lsp_signature_mw(x = lc92, window = window2) lc18s2 = lsp_signature_mw(x = lc18, window = window2) lc_compare2 = spq_compare(lc92s2, lc18s2, dist_fun = \"jensen-shannon\") plot(lc_compare2) plot(c(lc_compare - lc_compare2))"},{"path":"http://jakubnowosad.com/motifmw/articles/Introduction.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Comparing spatial patterns using moving window approach","text":"motifmw package allows calculation local spatial pattern signature raster dataset using moving window approach. can used compare changes spatial patterns two raster datasets, demonstrated vignette. package can also used extract spatial pattern signature raster dataset analysis, using machine learning. package experimental, comments suggestions https://github.com/Nowosad/motifmw/issues welcome.","code":""},{"path":"http://jakubnowosad.com/motifmw/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jakub Nowosad. Author, maintainer.","code":""},{"path":"http://jakubnowosad.com/motifmw/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Nowosad J (2024). motifmw: Local Pattern Analysis Moving Window. R package version 0.0.1, http://jakubnowosad.com/motifmw/.","code":"@Manual{,   title = {motifmw: Local Pattern Analysis in Moving Window},   author = {Jakub Nowosad},   year = {2024},   note = {R package version 0.0.1},   url = {http://jakubnowosad.com/motifmw/}, }"},{"path":"http://jakubnowosad.com/motifmw/index.html","id":"motifmw","dir":"","previous_headings":"","what":"Local Pattern Analysis in Moving Window","title":"Local Pattern Analysis in Moving Window","text":"goal motifmw describe spatial patterns categorical raster data defined moving window. Patterns described quantitatively using built-signatures based co-occurrence matrix.","code":""},{"path":"http://jakubnowosad.com/motifmw/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Local Pattern Analysis in Moving Window","text":"can install development version package :","code":"# install.packages(\"remotes\") remotes::install_github(\"Nowosad/motifmw\")"},{"path":"http://jakubnowosad.com/motifmw/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Local Pattern Analysis in Moving Window","text":"","code":"library(motifmw) library(terra) #> terra 1.7.69 r = rast(matrix(c(rep(1, 23), rep(NA, 3), rep(2, 23)), ncol = 7)) plot(r) w = matrix(1, 3, 3) result = lsp_signature_mw(x = r, window = w) result #> class       : SpatRaster  #> dimensions  : 7, 7, 3  (nrow, ncol, nlyr) #> resolution  : 1, 1  (x, y) #> extent      : 0, 7, 0, 7  (xmin, xmax, ymin, ymax) #> coord. ref. :   #> source(s)   : memory #> names       : lyr1,      lyr2, lyr3  #> min values  :    0, 0.0000000,    0  #> max values  :    1, 0.2857143,    1 plot(result)"},{"path":"http://jakubnowosad.com/motifmw/index.html","id":"extended-example","dir":"","previous_headings":"","what":"Extended example","title":"Local Pattern Analysis in Moving Window","text":"extended example shows compare spatial patterns using moving window approach.","code":""},{"path":"http://jakubnowosad.com/motifmw/reference/lsp_signature_mw.html","id":null,"dir":"Reference","previous_headings":"","what":"Spatial signatures in moving window — lsp_signature_mw","title":"Spatial signatures in moving window — lsp_signature_mw","text":"Calculates co-occurrence vector (cove) spatial signature moving window based provided categorical raster window matrix.","code":""},{"path":"http://jakubnowosad.com/motifmw/reference/lsp_signature_mw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Spatial signatures in moving window — lsp_signature_mw","text":"","code":"lsp_signature_mw(   x,   window,   neighbourhood = 4,   ordered = FALSE,   normalization = \"pdf\",   classes = NULL,   ... )"},{"path":"http://jakubnowosad.com/motifmw/reference/lsp_signature_mw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Spatial signatures in moving window — lsp_signature_mw","text":"x SpatRaster window Moving window matrix. neighbourhood number directions cell adjacencies considered neighbours: 4 (rook's case) 8 (queen's case). default 4. ordered type pairs considered. Either \"ordered\" (TRUE) \"unordered\" (FALSE). default FALSE. normalization output vector normalized? Either \"none\" \"pdf\". \"pdf\" option normalizes vector sum one. default \"pdf\". classes classes (categories) analyzed? default NULL, means classes calculated directly input data used calculations. ... Additional argument terra::focalCpp()","code":""},{"path":"http://jakubnowosad.com/motifmw/reference/lsp_signature_mw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Spatial signatures in moving window — lsp_signature_mw","text":"SpatRaster spatial signatures cell many layers.","code":""},{"path":"http://jakubnowosad.com/motifmw/reference/lsp_signature_mw.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Spatial signatures in moving window — lsp_signature_mw","text":"","code":"library(terra) #> terra 1.7.71 r = rast(matrix(c(rep(1, 23), rep(NA, 3), rep(2, 23)), ncol = 7)) plot(r)  w = matrix(1, 3, 3) result = lsp_signature_mw(x = r, window = w) result #> class       : SpatRaster  #> dimensions  : 7, 7, 3  (nrow, ncol, nlyr) #> resolution  : 1, 1  (x, y) #> extent      : 0, 7, 0, 7  (xmin, xmax, ymin, ymax) #> coord. ref. :   #> source(s)   : memory #> names       : lyr1,      lyr2, lyr3  #> min values  :    0, 0.0000000,    0  #> max values  :    1, 0.2857143,    1"},{"path":"http://jakubnowosad.com/motifmw/reference/motifmw-package.html","id":null,"dir":"Reference","previous_headings":"","what":"motifmw: Local Pattern Analysis in Moving Window — motifmw-package","title":"motifmw: Local Pattern Analysis in Moving Window — motifmw-package","text":"Describes spatial patterns categorical raster data defined moving window. Patterns described quantitatively using built-signatures based co-occurrence matrix.","code":""},{"path":[]},{"path":"http://jakubnowosad.com/motifmw/reference/motifmw-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"motifmw: Local Pattern Analysis in Moving Window — motifmw-package","text":"Maintainer: Jakub Nowosad nowosad.jakub@gmail.com (ORCID)","code":""}]
